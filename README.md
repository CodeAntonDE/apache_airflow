Из каких основных частей состоит AirFlow

Apache Airflow состоит из нескольких ключевых компонентов, каждый из которых выполняет свою роль в организации, планировании и выполнении рабочих процессов:

Основные части Airflow
1. DAG (Directed Acyclic Graph)

Основная сущность Airflow - это DAG, то есть направленный ациклический граф, который определяет структуру и порядок выполнения задач (tasks) в рамках одного рабочего процесса.

2. Task (Задача)

Задача - это отдельная единица работы внутри DAG. Каждая задача реализуется с помощью оператора и выполняет конкретное действие (например, запуск Python-скрипта, выполнение SQL-запроса и т.д.).

3. Operator (Оператор)

Оператор определяет, что именно будет делать задача. Существуют различные типы операторов: PythonOperator, BashOperator, EmailOperator, а также специальные сенсоры (Sensor), которые ожидают определенного события.

4. Scheduler (Планировщик)

Планировщик отвечает за определение времени и порядка запуска задач в DAG согласно расписанию. Он отслеживает готовность задач к запуску и инициирует их выполнение.

5. Executor (Исполнитель)

Исполнитель отвечает за непосредственный запуск задач. В зависимости от выбранного типа (например, LocalExecutor, CeleryExecutor, KubernetesExecutor) задачи могут выполняться локально, в распределённой среде или в Kubernetes-кластере.

6. Web Server (Веб-сервер) / WebUI

Веб-интерфейс Airflow позволяет пользователям управлять DAG'ами, запускать их вручную, отслеживать статус задач, просматривать логи и управлять настройками.

7. Metadata Database (База данных метаданных)

Центральное хранилище для всей служебной информации: статусов DAG и задач, расписаний, переменных, соединений и других метаданных. Обычно используется СУБД, совместимая с SQLAlchemy (PostgreSQL, MySQL и др.).

8. Worker (Рабочий процесс)

В распределённых конфигурациях (например, с CeleryExecutor) отдельные процессы-воркеры отвечают за выполнение задач, получая их от исполнителя.

Дополнительные компоненты
Sensor (Сенсор): специальный вид операторов, которые «ждут» наступления определённого события.

Connections (Соединения): объекты для хранения данных о подключениях к внешним системам (БД, API и т.д.).

Variables (Переменные): механизм хранения пользовательских настроек и конфигураций.


![image](https://github.com/user-attachments/assets/c8d8b4ea-55a4-48f6-920d-8ffb41ca0a76)

